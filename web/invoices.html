<!doctype html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>الموردون</title>

  <!-- خط وثيم -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@400;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="./assets/css/style.css" />

  <style>
    /* إضافات شكل البطاقات الشبكية كما في التصميم */
    .toolbar{display:flex;align-items:center;justify-content:space-between;gap:12px}
    .toolbar .left{display:flex;gap:8px;align-items:center}
    .toolbar .right{display:flex;gap:8px;align-items:center}
    .iconbtn{display:inline-flex;align-items:center;justify-content:center;width:42px;height:42px;border-radius:12px;border:1px solid var(--border);background:#1c2536;color:var(--text)}
    .iconbtn:hover{background:#1a2231}

    .search{min-width:280px}

    .section-title{display:flex;align-items:center;gap:8px;margin:6px 0 10px;color:var(--muted);font-weight:700}
    .section-title .dot{width:10px;height:10px;border-radius:50%;background:#94a3b8;opacity:.6}

    .cards{display:grid;grid-template-columns:repeat(3,minmax(0,1fr));gap:14px}
    @media (max-width:1100px){.cards{grid-template-columns:repeat(2,minmax(0,1fr))}}
    @media (max-width:720px){.cards{grid-template-columns:1fr}}

    .supplier-card{
      background:linear-gradient(180deg,#0f172a77,#0f172a22),var(--panel);
      border:1px solid var(--border); border-radius:16px; box-shadow:var(--shadow); padding:14px;
      position:relative;
    }
    .supplier-head{display:flex;align-items:center;justify-content:space-between;margin-bottom:8px}
    .supplier-name{font-weight:700}
    .supplier-pin{display:inline-flex;align-items:center;gap:6px;cursor:pointer;color:#cbd5e1}
    .supplier-pin svg{opacity:.6}
    .supplier-pin.active{color:#facc15}
    .supplier-pin.active svg{opacity:1}

    .metric{display:flex;align-items:center;justify-content:space-between;border:1px solid var(--border);
      background:#162035;border-radius:10px;padding:8px 10px;margin:8px 0}
    .metric .label{color:var(--muted);font-size:12px}
    .metric .value{font-weight:700}
    .metric.bill .value{color:#60a5fa}
    .metric.paid .value{color:#34d399}
    .metric.due .value{color:#facc15}
    .metric.count .value{color:#cbd5e1}

    .card-actions{display:flex;align-items:center;justify-content:flex-end;margin-top:8px}
    .card-actions a{display:inline-flex;align-items:center;gap:6px}
    .card-actions svg{opacity:.7}

    .empty-hint{height:12px}
  </style>
</head>
<body>
  <!-- Navbar -->
  <header>
    <h1>نظام المشتريات</h1>
    <nav id="mainNav">
      <a href="/" data-match="/">الرئيسية</a>
      <a href="/invoice_new.html" data-match="/invoice_new.html">إنشاء فاتورة</a>
      <a href="/invoices.html" data-match="/invoices.html">الموردون</a>
      <a href="/pos.html" data-match="/pos.html">أوامر الشراء</a>
    </nav>
  </header>
  <script>
    (function markActive(){
      const p = location.pathname.replace(/\/+$/, '') || '/';
      document.querySelectorAll('#mainNav a').forEach(a=>{
        const m = a.getAttribute('data-match');
        if ((m === '/' && p === '/') || (m !== '/' && p.endsWith(m))) {
          a.style.background = '#1e293b';
          a.style.borderColor = '#334155';
        }
      });
    })();
  </script>

  <main>
    <!-- شريط أدوات علوي -->
    <section class="card toolbar">
      <div class="left">
        <button id="btnAll" class="iconbtn" title="كل الموردين">👥</button>
        <button id="btnRefresh" class="btn">تحديث ↻</button>
      </div>
      <div class="right">
        <input id="search" class="search" placeholder="البحث في المورّدين…" />
      </div>
    </section>

    <!-- قسم المثبتين -->
    <section class="card">
      <div class="section-title"><span class="dot"></span><span>الموردون المثبتون</span></div>
      <div id="pinnedWrap" class="cards"></div>
      <div id="pinnedEmpty" class="muted empty-hint">لا يوجد موردون مثبتون.</div>
    </section>

    <!-- باقي الموردين -->
    <section class="card">
      <div class="section-title"><span class="dot"></span><span>باقي الموردين</span></div>
      <div id="othersWrap" class="cards"></div>
      <div id="othersEmpty" class="muted empty-hint"></div>
    </section>
  </main>

  <!-- سكربت المنطق -->
  <script src="./assets/js/invoices.js"></script>
</body>
</html>
